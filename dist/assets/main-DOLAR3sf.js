import"./modulepreload-polyfill-B5Qt9EMX.js";import{getDatabase as A,ref as I,get as S,child as R}from"https://www.gstatic.com/firebasejs/9.15.0/firebase-database.js";import{initializeApp as m}from"https://www.gstatic.com/firebasejs/9.15.0/firebase-app.js";import{GoogleAuthProvider as _,getAuth as p,signInWithPopup as B,signOut as d}from"https://www.gstatic.com/firebasejs/9.15.0/firebase-auth.js";var e={FIREBASE_API_KEY:'"AIzaSyBnbcPg2bm9uNHtQvSCKwneB9qyUC4RYPs"',FIREBASE_AUTH_DOMAIN:'"y-trials.firebaseapp.com"',FIREBASE_DATABASE_URL:'"https://y-trials-default-rtdb.firebaseio.com"',FIREBASE_PROJECT_ID:'"y-trials"',FIREBASE_STORAGE_BUCKET:'"y-trials.appspot.com"',FIREBASE_MESSAGING_SENDER_ID:'"38252670103"',FIREBASE_APP_ID:'"1:38252670103:web:e93dd07b17de6537bc4dd2"',FIREBASE_MEASUREMENT_ID:'"G-DHZ2M1NK82"'};console.log(e.FIREBASE_API_KEY.replace(/"/g,""));console.log(e.FIREBASE_AUTH_DOMAIN.replace(/"/g,""));console.log(e.FIREBASE_PROJECT_ID.replace(/"/g,""));console.log(e.FIREBASE_STORAGE_BUCKET.replace(/"/g,""));console.log(e.FIREBASE_MESSAGING_SENDER_ID.replace(/"/g,""));console.log(e.FIREBASE_APP_ID.replace(/"/g,""));console.log(e.FIREBASE_MEASUREMENT_ID.replace(/"/g,""));console.log(e.FIREBASE_DATABASE_URL.replace(/"/g,""));const F={apiKey:e.FIREBASE_API_KEY.replace(/"/g,""),authDomain:e.FIREBASE_AUTH_DOMAIN.replace(/"/g,""),projectId:e.FIREBASE_PROJECT_ID.replace(/"/g,""),storageBucket:e.FIREBASE_STORAGE_BUCKET.replace(/"/g,""),messagingSenderId:e.FIREBASE_MESSAGING_SENDER_ID.replace(/"/g,""),appId:e.FIREBASE_APP_ID.replace(/"/g,""),measurementId:e.FIREBASE_MEASUREMENT_ID.replace(/"/g,""),databaseURL:e.FIREBASE_DATABASE_URL.replace(/"/g,"")},c=m(F),D=new _(c),i=p(c),u=A(c);I(u,"allowed");let l="",r="";sessionStorage.setItem("myEmail",l);sessionStorage.setItem("myName",r);let s=!1;const f=document.getElementById("signinBtn");function N(n){const a=I(A());return S(R(a,n)).then(t=>t.exists()?t.val():(console.log("No data available"),0)).catch(t=>(console.error(t),0))}f.addEventListener("click",async n=>{await B(i,D).then(async a=>{_.credentialFromResult(a).accessToken;const E=a.user,g=Object.keys(await N("allowed"));for(let o of g)o=o.replace(/,/g,"."),E.email==o&&(s=!0);s?(l=E.email,r=E.displayName,sessionStorage.setItem("myEmail",l),sessionStorage.setItem("myName",r)):d(i)}).catch(a=>{a.code;const t=a.message;alert(t)}),s&&(window.location.href="/addReu.html")});
